<!-- [attr.width.px]="width"
[attr.height.px]="height" -->
<svg
  #fig
  width="100%"
  height="100%"
  preserveAspectRatio="xMidYMid meet"
  [attr.viewBox]="viewbox"
  (click)="onSvgClick()"
>
  <g>
    <!-- height -->
    @if (visMode === 1 || visMode === 3) {
    <g>
      @for (r of heightRects; track r) {
      <rect
        [attr.x]="r.x"
        [attr.y]="r.y"
        [attr.width]="r.width"
        [attr.height]="r.height"
        [attr.fill]="r.fill"
        [attr.title]="r.name"
        stroke="#a0a0a0"
      ></rect>
      }
    </g>
    }

    <!-- width -->
    @if (visMode >= 2) {
    <g opacity="0.7">
      @for (r of widthRects; track r) {
      <rect
        [attr.x]="r.x"
        [attr.y]="r.y"
        [attr.width]="r.width"
        [attr.height]="r.height"
        [attr.fill]="r.fill"
        [attr.title]="r.name"
        stroke="#a0a0a0"
      ></rect>
      }
    </g>
    }
  </g>
</svg>
